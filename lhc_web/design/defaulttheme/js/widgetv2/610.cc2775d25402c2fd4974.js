"use strict";(self.webpackChunkLHCReactAPP=self.webpackChunkLHCReactAPP||[]).push([[610],{610:function(e,t,a){a.r(t);var n,r=a(7462),s=a(5671),c=a(3144),i=a(7326),o=a(9340),u=a(2963),l=a(1120),d=a(4942),f=a(7294),h=a(8216),v=(a(2137),a(488)),g=a.n(v);var p=(0,h.$j)((function(e){return{chatwidget:e.chatwidget}}))(n=function(e){(0,o.Z)(h,e);var t,a,n=(t=h,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,l.Z)(t);if(a){var r=(0,l.Z)(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return(0,u.Z)(this,e)});function h(e){var t;return(0,s.Z)(this,h),t=n.call(this,e),(0,d.Z)((0,i.Z)(t),"state",{preg_match_rules:[]}),t.listenerAdded=!1,t}return(0,c.Z)(h,[{key:"handleParentMessage",value:function(e,t){if(e.data.event==t.target){var a=[];a[e.data.event]=e.data.value,this.setState(a)}}},{key:"abstractClick",value:function(e,t){var a=this;JSON.parse(e["data-action"]).forEach((function(e){if("add_css_class"==e.action){var t=document.querySelector(e.target);t&&t.classList.add(e.value)}else if("remove_css_class"==e.action){var n=document.querySelector(e.target);n&&n.classList.remove(e.value)}else if("chat_attr_global"==e.action)window.lhcChat[e.target]=e.value;else if("set_state"==e.action){var r={};r[e.target]=e.value,a.props.setStateParent(r)}else"post_message"==e.action?document.getElementById(e.target).contentWindow.postMessage(e.value,"*"):"listen_post_message"==e.action&&(window.addEventListener?window.addEventListener("message",(function(t){a.handleParentMessage(t,e)}),!1):window.attachEvent?window.attachEvent("onmessage",(function(t){a.handleParentMessage(t,e)})):document.attachEvent&&document.attachEvent("onmessage",(function(t){a.handleParentMessage(t,e)})))}))}},{key:"render",value:function(){var e=this,t=this.props.chatwidget.getIn(["chat_ui",this.props.attr]);return this.props.has_new||(t=t.replace(/<newmessages>(.*)<\/newmessages>/gi,"")),this.state.preg_match_rules.forEach((function(e){t=t.replace(e.search,e.replace,"")})),f.createElement(f.Fragment,null,g()(t,{replace:function(t){var a=Object.assign({},t.attribs);if(t.attribs){if(t.name&&"button"===t.name)return f.createElement("button",(0,r.Z)({type:"button"},t.attribs,{onClick:function(t){return e.abstractClick(a,t)}}),(0,v.domToReact)(t.children));if(t.name&&"lhcaction"===t.name)return 0==e.listenerAdded&&(e.abstractClick(a,null),e.listenerAdded=!0),""}}}))}}]),h}(f.Component))||n;t.default=p}}]);
//# sourceMappingURL=610.cc2775d25402c2fd4974.js.map