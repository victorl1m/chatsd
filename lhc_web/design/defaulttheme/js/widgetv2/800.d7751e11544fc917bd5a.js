"use strict";(self.webpackChunkLHCReactAPP=self.webpackChunkLHCReactAPP||[]).push([[800],{5800:function(e,t,a){a.r(t);var l=a(5671),n=a(3144),s=a(7326),r=a(9340),i=a(2963),c=a(1120),o=a(4942),m=a(7294),d=a(9669),u=a.n(d),h=a(7217);var f=function(e){(0,r.Z)(h,e);var t,a,d=(t=h,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,l=(0,c.Z)(t);if(a){var n=(0,c.Z)(this).constructor;e=Reflect.construct(l,arguments,n)}else e=l.apply(this,arguments);return(0,i.Z)(this,e)});function h(e){var t;return(0,l.Z)(this,h),t=d.call(this,e),(0,o.Z)((0,s.Z)(t),"state",{mail:null,success:"",errors:null,sending:!1}),(0,o.Z)((0,s.Z)(t),"dismissModal",(function(){t.props.toggle()})),t.sendMail=t.sendMail.bind((0,s.Z)(t)),t.emailRef=m.createRef(),t}return(0,n.Z)(h,[{key:"sendMail",value:function(e){var t=this;this.setState({sending:!0}),u().post(window.lhcChat.base_url+"widgetrestapi/sendmailsettings/"+this.props.chatId+"/"+this.props.chatHash+"/(action)/send",{email:this.state.mail},{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){0==e.data.error?t.props.toggle():(t.setState({sending:!1}),t.setState({errors:e.data.result}))})),e&&e.preventDefault()}},{key:"componentDidMount",value:function(){var e=this;u().get(window.lhcChat.base_url+"widgetrestapi/sendmailsettings/"+this.props.chatId+"/"+this.props.chatHash).then((function(t){e.setState({mail:t.data}),e.emailRef.current&&e.emailRef.current.focus()})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this,t=this.props.t;return m.createElement(m.Fragment,null,null!==this.state.mail&&m.createElement(m.Fragment,null,m.createElement("div",{className:"fade modal-backdrop show"}),m.createElement("div",{role:"dialog",id:"dialog-content","aria-modal":"true",className:"fade modal show d-block mail-send-modal",tabIndex:"-1"},m.createElement("div",{className:"modal-dialog modal-lg"},m.createElement("div",{className:"modal-content"},m.createElement("div",{className:"modal-header"}," ",m.createElement("h4",{className:"modal-title",id:"myModalLabel"},m.createElement("span",{className:"material-icons"},"ï„š"),t("button.mail")),m.createElement("button",{type:"button",className:"btn-close float-end","data-bs-dismiss":"modal",onClick:this.dismissModal,"aria-label":"Close"})),m.createElement("div",{className:"modal-body"},m.createElement("div",{className:"row"},m.createElement("div",{className:"col-12"},this.state.errors&&m.createElement("div",{className:"mb-0",dangerouslySetInnerHTML:{__html:this.state.errors}}),m.createElement("div",{className:"mb-0"},m.createElement("form",{onSubmit:this.sendMail},m.createElement("p",{className:"mail-explain"},t("button.email_explain")),m.createElement("div",{className:"form-group"},m.createElement("label",{className:"text-muted"},t("button.email")),m.createElement("input",{className:"form-control form-group form-control-sm",ref:this.emailRef,required:"required",type:"email",defaultValue:this.state.mail,onChange:function(t){return e.setState({mail:t.target.value})},placeholder:t("chat.enter_email"),title:t("chat.enter_email")})),m.createElement("div",{className:"row"},m.createElement("div",{className:"col-5"},m.createElement("button",{type:"submit",disabled:this.state.sending||""==this.state.mail,className:"btn btn-primary w-100 btn-sm"},t("button.send"))),m.createElement("div",{className:"col-2"}),m.createElement("div",{className:"col-5"},m.createElement("button",{type:"button",className:"btn text-muted btn-link btn-sm w-100",onClick:this.dismissModal},t("button.cancel"))))))))))))))}}]),h}(m.PureComponent);t.default=(0,h.Z)()(f)}}]);
//# sourceMappingURL=800.d7751e11544fc917bd5a.js.map